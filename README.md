# mall-tiny

借鉴[GitHub](https://github.com/macrozheng/mall)开源项目经验的学习版本，使用的SpringBoot版本为3.0，MySQL为8.0版本，将从头开始构建一个具有前台展示和后台管理功能的商城系统



# 需求分析

## 用户登录/注册

用户注册和登录是每个系统必备的功能

**注册功能**

注册必须的字段如下表，请求方式POST，成功后返回用户名

| 字段     | 要求                                    | 说明                   | 类型   |
| -------- | --------------------------------------- | ---------------------- | ------ |
| username | 不能重复，必须大于6个字符且小于20个字符 | 用户名，作为登录时账号 | Sting  |
| phone    | 必须符合中国手机号的标准                | 手机号，消息提醒使用   | String |
| password | 8-20位，至少包含数字与字母              | 密码，作为登录时密码   | String |
| gender   | 必须选择男或者女，0-> 女 / 1-> 男       | 性别                   | byte   |

**点击注册后，应该出现相应的提示，并且防止用户发送重复的请求**

后端实现：在前端发送POST请求后，使用RegisterDTO对象接收

+ 验证所有字段是否不为空，存在为空则抛出异常
+ 验证是否存在同名用户，存在则抛出异常，
+ 往数据库插入数据，更新上面四条数据以外，还要更新创建时间，成功返回用户名



**登录功能**

使用字段如下，请求方式POST，成功后返回token

| 字段     | 说明         |
| -------- | ------------ |
| username | 注册时用户名 |
| password | 注册时密码   |

**点击登录后，应该出现相应的提示，防止用户重复登录**

后端实现：前端发送POST请求，使用LoginDTO对象接收

+ 验证是否存在空字段，存在则抛出异常
+ 验证账户是否存在且处于启用状态，未启用则抛出异常
+ 验证账号密码是否匹配，不匹配则抛出异常
+ 验证通过，往Redis中存入Member对象的JSON字符串，key为Token，实现单点登录
